# JVM Performance Optimization Configuration
# This file contains recommended JVM settings for optimal performance

# Garbage Collection Settings
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200
-XX:G1HeapRegionSize=16m
-XX:G1NewSizePercent=30
-XX:G1MaxNewSizePercent=40
-XX:G1MixedGCCountTarget=8
-XX:InitiatingHeapOccupancyPercent=45
-XX:G1MixedGCLiveThresholdPercent=85
-XX:G1HeapWastePercent=5
-XX:G1ReservePercent=10

# String and Memory Optimizations
-XX:+UseStringDeduplication
-XX:+OptimizeStringConcat
-XX:+UseCompressedOops
-XX:+UseCompressedClassPointers

# Compilation Optimizations
-XX:+TieredCompilation
-XX:TieredStopAtLevel=1
-XX:+UseFastUnorderedTimeStamps

# CPU Intrinsics (for better performance on modern CPUs)
-XX:+UseAES
-XX:+UseAESIntrinsics
-XX:+UseFMA
-XX:+UseSHA
-XX:+UseSHA1Intrinsics
-XX:+UseSHA256Intrinsics
-XX:+UseSHA512Intrinsics
-XX:+UseCRC32Intrinsics
-XX:+UseCRC32CIntrinsics
-XX:+UseAdler32Intrinsics
-XX:+UseVectorizedMismatchIntrinsics
-XX:+UseVectorizedHashCodeIntrinsics
-XX:+UsePopCountInstruction
-XX:+UseCountLeadingZerosInstruction
-XX:+UseCountTrailingZerosInstruction
-XX:+UseBitManipulationInstructions

# Security and Random Number Generation
-Djava.security.egd=file:/dev/./urandom

# Spring Boot Optimizations
-Dspring.jmx.enabled=false
-Dspring.backgroundpreinitializer.ignore=true
-Dspring.main.lazy-initialization=true
-Dspring.jpa.open-in-view=false
-Dspring.devtools.restart.enabled=false
-Dspring.devtools.livereload.enabled=false
-Dspring.thymeleaf.cache=true

# Server Optimizations
-Dserver.compression.enabled=true
-Dserver.http2.enabled=true

# Memory Settings (adjust based on available memory)
# For 1GB total memory:
# -Xms512m -Xmx1g -Xmn256m -XX:MaxNewSize=512m

# For 2GB total memory:
# -Xms1g -Xmx2g -Xmn512m -XX:MaxNewSize=1g

# For 4GB total memory:
# -Xms2g -Xmx4g -Xmn1g -XX:MaxNewSize=2g